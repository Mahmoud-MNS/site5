<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap');

    :root{
      --bg1:#0b1220;
      --bg2:#0f1a2b;

      --card: rgba(255,255,255,0.08);
      --card2: rgba(255,255,255,0.11);

      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);

      --shadow: 0 18px 45px rgba(0,0,0,0.38);
      --shadowSoft: 0 12px 26px rgba(0,0,0,0.25);

      --radius: 18px;
      --radiusSm: 14px;
    }

    *{ box-sizing: border-box; }
    html{ scroll-behavior: smooth; }
    body{
      margin:0;
      min-height:100vh;
      font-family:"Tajawal", system-ui, -apple-system, "Segoe UI", Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 520px at 18% 0%, rgba(97,214,255,0.18), transparent 60%),
        radial-gradient(1000px 600px at 92% 10%, rgba(135,247,192,0.14), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
    }

    /* Top Nav */
    .topbar{
      position: sticky;
      top:0;
      z-index: 999;
      display:flex;
      justify-content:center;
      gap:10px;
      padding:12px 10px;
      background: rgba(10,16,28,0.75);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.10);
    }
    .navbtn{
      text-decoration:none;
      color:var(--text);
      font-weight:800;
      font-size: 15px;
      padding: 12px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: linear-gradient(135deg, rgba(97,214,255,0.22), rgba(135,247,192,0.16));
      box-shadow: 0 10px 22px rgba(0,0,0,0.22);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
      display:flex;
      align-items:center;
      gap:8px;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .navbtn:hover{
      transform: translateY(-1px);
      border-color: rgba(97,214,255,0.35);
      box-shadow: 0 14px 30px rgba(0,0,0,0.32);
    }
    .navbtn:active{ transform: translateY(0) scale(0.99); }

    .container{
      max-width: 980px;
      margin: 0 auto;
      padding: 18px 14px 34px;
    }

    .hero{
      max-width: 760px;
      margin: 18px auto 14px;
      padding: 16px 16px 12px;
      text-align:center;
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.12);
      background: linear-gradient(135deg, rgba(97,214,255,0.14), rgba(135,247,192,0.10));
      box-shadow: var(--shadowSoft);
    }
    .hero h1{
      margin: 2px 0 6px;
      font-size: clamp(26px, 5vw, 44px);
      font-weight: 900;
      letter-spacing: .2px;
    }
    .hero p{
      margin: 0;
      color: var(--muted);
      font-size: clamp(14px, 3.5vw, 18px);
      line-height: 1.8;
    }

    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      max-width: 760px;
      margin: 14px auto 0;
    }

    .card{
      border-radius: var(--radius);
      border: 1px solid rgba(255,255,255,0.14);
      background: linear-gradient(180deg, var(--card2), var(--card));
      box-shadow: var(--shadow);
      overflow:hidden;
      position: relative;
    }
    .card::before{
      content:"";
      position:absolute;
      inset:-60px -50px auto auto;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle at 30% 30%, rgba(97,214,255,0.22), transparent 62%);
      transform: rotate(12deg);
      pointer-events:none;
    }

    .cardHeader{
      padding: 14px 14px 10px;
      border-bottom: 1px solid rgba(255,255,255,0.10);
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }
    .label{
      font-weight: 900;
      letter-spacing: .2px;
      font-size: 16px;
      color: rgba(255,255,255,0.90);
    }
    .chip{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.85);
      font-weight: 800;
      font-size: 13px;
      user-select:none;
    }

    .content{
      padding: 16px 14px 14px;
      text-align:center;
    }

    .count{
      font-size: clamp(54px, 12vw, 86px);
      font-weight: 1000;
      letter-spacing: 1px;
      line-height: 1;
      margin: 4px 0 10px;
      text-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    .subtitle{
      margin: 0 0 10px;
      color: var(--muted);
      font-weight: 700;
      font-size: 14px;
      line-height: 1.8;
    }

    /* Selected dhikr */
    .dhikrBox{
      max-width: 560px;
      margin: 10px auto 12px;
      padding: 12px 12px;
      border-radius: var(--radiusSm);
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.06);
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    }
    .dhikrTitle{
      margin: 0 0 8px;
      font-weight: 1000;
      font-size: 14px;
      color: rgba(255,255,255,0.86);
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
    }
    .dhikrText{
      margin: 0;
      font-size: clamp(15px, 3.9vw, 18px);
      font-weight: 800;
      line-height: 1.9;
      color: rgba(255,255,255,0.95);
    }

    .progressWrap{
      margin: 10px auto 4px;
      max-width: 560px;
      text-align: right;
    }
    .progressTop{
      display:flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
      color: rgba(255,255,255,0.82);
      font-weight: 800;
      font-size: 13px;
      margin-bottom: 8px;
    }
    .bar{
      height: 12px;
      border-radius: 999px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.12);
      overflow:hidden;
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    }
    .bar > div{
      height: 100%;
      width: 0%;
      border-radius: 999px;
      background: linear-gradient(90deg, rgba(97,214,255,0.92), rgba(135,247,192,0.9));
      transition: width .2s ease;
    }

    .controls{
      display:grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin: 14px auto 0;
      max-width: 560px;
    }

    /* Main big button */
    .tasbeehBtn{
      border: none;
      cursor: pointer;
      border-radius: 22px;
      padding: 16px 14px;
      font-family: inherit;
      font-weight: 1000;
      font-size: 18px;
      color: #07111e;
      background: linear-gradient(135deg, rgba(97,214,255,0.95), rgba(135,247,192,0.95));
      box-shadow: 0 16px 40px rgba(0,0,0,0.35);
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .tasbeehBtn:hover{
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow: 0 20px 52px rgba(0,0,0,0.42);
    }
    .tasbeehBtn:active{
      transform: translateY(0) scale(0.99);
    }

    .row{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 10px;
    }

    .smallBtn{
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      cursor:pointer;
      border-radius: 16px;
      padding: 12px 10px;
      font-family: inherit;
      font-weight: 900;
      font-size: 14px;
      box-shadow: 0 12px 26px rgba(0,0,0,0.22);
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .smallBtn:hover{
      transform: translateY(-1px);
      border-color: rgba(97,214,255,0.30);
      box-shadow: 0 16px 34px rgba(0,0,0,0.30);
    }
    .smallBtn:active{ transform: translateY(0) scale(0.99); }

    .danger{
      border-color: rgba(255,90,165,0.35);
      background: rgba(255,90,165,0.14);
    }

    .inputs{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      max-width: 560px;
      margin: 12px auto 0;
      text-align:right;
    }
    .field{
      padding: 10px 10px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,0.12);
      background: rgba(255,255,255,0.05);
      box-shadow: 0 10px 22px rgba(0,0,0,0.18);
    }
    .field label{
      display:block;
      font-size: 12px;
      font-weight: 900;
      color: rgba(255,255,255,0.80);
      margin-bottom: 6px;
    }
    .field select, .field input{
      width: 100%;
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(0,0,0,0.18);
      color: var(--text);
      font-family: inherit;
      font-weight: 800;
      outline:none;
    }
    .field input::placeholder{ color: rgba(255,255,255,0.45); }

    .footerNote{
      max-width: 760px;
      margin: 14px auto 0;
      padding: 12px 14px;
      border-radius: var(--radiusSm);
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.75);
      font-weight: 700;
      font-size: 13px;
      line-height: 1.9;
      text-align:center;
    }

    /* Mobile tweaks */
    @media (max-width: 520px){
      .row{ grid-template-columns: 1fr 1fr; }
      .row .smallBtn:last-child{ grid-column: 1 / -1; }
      .inputs{ grid-template-columns: 1fr; }
    }

    @media (prefers-reduced-motion: reduce){
      *{ transition: none !important; scroll-behavior: auto !important; }
    }
  </style>
</head>

<body>
  <nav class="topbar">
    <a class="navbtn" href="index.html" aria-label="Ø§Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡">â˜€ï¸ğŸŒ™Ø£Ø°ÙƒØ§Ø± Ø§Ù„ØµØ¨Ø§Ø­ ÙˆØ§Ù„Ù…Ø³Ø§Ø¡</a>
    <a class="navbtn" href="tasbeeh.html" aria-label="Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©">ğŸ“¿ Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</a>
  </nav>

  <main class="container">
    <header class="hero">
      <h1>Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h1>
      <p>Ø§Ø®ØªÙØ± Ø§Ù„Ø°ÙƒØ± ÙˆØ§Ù„Ù‡Ø¯Ù (Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª) Ø«Ù… Ø§Ø¶ØºØ· Ø²Ø± Ø§Ù„Ø²ÙŠØ§Ø¯Ø©</p>
    </header>

    <section class="grid">
      <article class="card">
        <div class="cardHeader">
          <div class="label">Ø§Ù„Ø¹Ø¯Ø§Ø¯</div>
          <div class="chip" id="statusChip">Ø¬Ø§Ù‡Ø² âœ¨</div>
        </div>

        <div class="content">
          <div class="count" id="count">0</div>
          <p class="subtitle" id="subtitle">Ø§Ø¨Ø¯Ø£ Ø¨Ø°ÙƒØ± Ø§Ù„Ù„Ù‡â€¦</p>

          <div class="dhikrBox" aria-label="Ø§Ù„Ø°ÙƒØ± Ø§Ù„Ø­Ø§Ù„ÙŠ">
            <div class="dhikrTitle">
              <span>Ø§Ù„Ø°ÙƒØ± Ø§Ù„Ù…Ø®ØªØ§Ø±</span>
              <span class="chip" id="dhikrShort">â€”</span>
            </div>
            <p class="dhikrText" id="dhikrText">Ø§Ø®ØªØ± Ø§Ù„Ø°ÙƒØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø§Ù„Ø£Ø³ÙÙ„</p>
          </div>

          <div class="progressWrap" aria-label="Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…">
            <div class="progressTop">
              <span>Ø§Ù„ØªÙ‚Ø¯Ù… Ù†Ø­Ùˆ Ø§Ù„Ù‡Ø¯Ù</span>
              <span id="goalText">Ø§Ù„Ù‡Ø¯Ù: â€”</span>
            </div>
            <div class="bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
              <div id="barFill"></div>
            </div>
          </div>

          <div class="controls">
            <!-- changed text -->
            <button class="tasbeehBtn" id="incBtn" type="button">Ø§Ø°ÙƒØ± Ø§Ù„Ø¢Ù† (+1)</button>

            <div class="row">
              <button class="smallBtn" id="decBtn" type="button">Ø±Ø¬ÙˆØ¹ (-1)</button>
              <button class="smallBtn danger" id="resetBtn" type="button">ØªØµÙÙŠØ±</button>
              <button class="smallBtn" id="saveBtn" type="button">Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ: ØªØ´ØºÙŠÙ„</button>
            </div>

            <div class="inputs">
              <div class="field">
                <label for="dhikrSelect">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø°ÙƒØ±</label>
                <select id="dhikrSelect">
                  <option value="" selected>â€” Ø§Ø®ØªØ± Ø§Ù„Ø°ÙƒØ± â€”</option>
                  <option value="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡</option>
                  <option value="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…</option>
                  <option value="Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±">Ø§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</option>
                  <option value="Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡">Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡</option>
                  <option value="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡</option>
                  <option value="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</option>
                  <option value="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±">
                    Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±
                  </option>
                  <option value="Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡">Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡</option>
                  <option value="Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù‘Ù ÙˆØ³Ù„Ù… ÙˆØ¨Ø§Ø±Ùƒ Ø¹Ù„Ù‰ Ù†Ø¨ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯">Ø§Ù„Ù„Ù‡Ù… ØµÙ„Ù‘Ù ÙˆØ³Ù„Ù… ÙˆØ¨Ø§Ø±Ùƒ Ø¹Ù„Ù‰ Ù†Ø¨ÙŠÙ†Ø§ Ù…Ø­Ù…Ø¯</option>
                </select>
              </div>

              <div class="field">
                <label for="preset">ÙƒÙ… Ù…Ø±Ø© (Ù‡Ø¯Ù Ø³Ø±ÙŠØ¹)</label>
                <select id="preset">
                  <option value="">â€” Ø¨Ø¯ÙˆÙ† â€”</option>
                  <option value="33">33</option>
                  <option value="100">100</option>
                  <option value="300">300</option>
                  <option value="1000">1000</option>
                </select>
              </div>

              <div class="field">
                <label for="customGoal">ÙƒÙ… Ù…Ø±Ø© (Ø±Ù‚Ù… Ù…Ø®ØµØµ)</label>
                <input id="customGoal" inputmode="numeric" placeholder="Ù…Ø«Ø§Ù„: 200" />
              </div>
            </div>
          </div>
        </div>
      </article>

    </section>
  </main>

  <script>
    (function(){
      const countEl = document.getElementById("count");
      const barFill = document.getElementById("barFill");
      const goalText = document.getElementById("goalText");
      const subtitle = document.getElementById("subtitle");
      const statusChip = document.getElementById("statusChip");

      const incBtn = document.getElementById("incBtn");
      const decBtn = document.getElementById("decBtn");
      const resetBtn = document.getElementById("resetBtn");
      const preset = document.getElementById("preset");
      const customGoal = document.getElementById("customGoal");
      const saveBtn = document.getElementById("saveBtn");

      const dhikrSelect = document.getElementById("dhikrSelect");
      const dhikrText = document.getElementById("dhikrText");
      const dhikrShort = document.getElementById("dhikrShort");

      const KEY = "tasbeeh_simple_v1";

      let state = {
        count: 0,
        goal: null,
        autosave: true,
        dhikr: ""
      };

      // Load saved
      try{
        const saved = JSON.parse(localStorage.getItem(KEY));
        if(saved && typeof saved === "object"){
          state = { ...state, ...saved };
        }
      }catch(e){}

      function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }

      function setChip(text){ statusChip.textContent = text; }

      function buzz(){
        if(navigator.vibrate) navigator.vibrate(18);
      }

      function shortDhikr(s){
        s = (s || "").trim();
        if(!s) return "â€”";
        if(s.length <= 18) return s;
        return s.slice(0, 18) + "â€¦";
      }

      function updateDhikrUI(){
        const d = (state.dhikr || "").trim();
        if(!d){
          dhikrText.textContent = "Ø§Ø®ØªØ± Ø§Ù„Ø°ÙƒØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø§Ù„Ø£Ø³ÙÙ„";
          dhikrShort.textContent = "â€”";
          return;
        }
        dhikrText.textContent = d;
        dhikrShort.textContent = shortDhikr(d);
      }

      function updateSubtitle(){
        if(state.count === 0) subtitle.textContent = "Ø§Ø¨Ø¯Ø£ Ø¨Ø°ÙƒØ± Ø§Ù„Ù„Ù‡â€¦";
        else if(state.goal && state.count >= state.goal) subtitle.textContent = "Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! ÙˆØµÙ„Øª Ù„Ù„Ù‡Ø¯Ù âœ…";
        else if(state.count < 33) subtitle.textContent = "Ø«Ø¨ØªÙƒ Ø§Ù„Ù„Ù‡ ÙˆÙƒØªØ¨ Ø£Ø¬Ø±Ùƒ ğŸ¤";
        else if(state.count < 100) subtitle.textContent = "Ø¬Ù…ÙŠÙ„ Ø¬Ø¯Ù‹Ø§â€¦ ÙƒÙ…Ù‘Ù„ ğŸ‘Œ";
        else subtitle.textContent = "Ø§Ø³ØªÙ…Ø± ğŸŒ¿";
      }

      function updateGoalText(){
        goalText.textContent = state.goal ? ("Ø§Ù„Ù‡Ø¯Ù: " + state.goal) : "Ø§Ù„Ù‡Ø¯Ù: â€”";
      }

      function updateProgress(){
        let pct = 0;
        if(state.goal && state.goal > 0){
          pct = (state.count / state.goal) * 100;
        }
        pct = clamp(pct, 0, 100);
        barFill.style.width = pct.toFixed(1) + "%";
        const bar = document.querySelector(".bar");
        if(bar) bar.setAttribute("aria-valuenow", String(Math.round(pct)));
      }

      function render(){
        countEl.textContent = state.count;
        updateGoalText();
        updateProgress();
        updateSubtitle();
        updateDhikrUI();
      }

      function save(){
        if(!state.autosave) return;
        try{
          localStorage.setItem(KEY, JSON.stringify(state));
        }catch(e){}
      }

      function setGoalFromInputs(){
        const presetVal = preset.value ? parseInt(preset.value, 10) : null;
        const customValRaw = (customGoal.value || "").trim();
        const customVal = customValRaw ? parseInt(customValRaw, 10) : null;

        let g = null;
        if(Number.isFinite(customVal) && customVal > 0) g = customVal;
        else if(Number.isFinite(presetVal) && presetVal > 0) g = presetVal;

        state.goal = g;
        save();
        render();
      }

      function setDhikr(){
        state.dhikr = (dhikrSelect.value || "").trim();
        save();
        render();
      }

      incBtn.addEventListener("click", () => {
        state.count += 1;

        if(state.goal && state.count === state.goal){
          setChip("ØªÙ… Ø§Ù„Ù‡Ø¯Ù âœ…");
          buzz();
        } else {
          setChip("ØªÙ… âœ“");
          buzz();
        }

        save();
        render();
      });

      decBtn.addEventListener("click", () => {
        state.count = Math.max(0, state.count - 1);
        setChip("ØªÙ… âœ“");
        save();
        render();
      });

      resetBtn.addEventListener("click", () => {
        state.count = 0;
        setChip("ØªØµÙÙŠØ± âœ“");
        save();
        render();
      });

      preset.addEventListener("change", () => {
        setGoalFromInputs();
      });

      customGoal.addEventListener("input", () => {
        customGoal.value = customGoal.value.replace(/[^\d]/g, "");
        setGoalFromInputs();
      });

      dhikrSelect.addEventListener("change", () => {
        setDhikr();
        setChip("ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø°ÙƒØ± âœ“");
      });

      saveBtn.addEventListener("click", () => {
        state.autosave = !state.autosave;
        saveBtn.textContent = "Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ: " + (state.autosave ? "ØªØ´ØºÙŠÙ„" : "Ø¥ÙŠÙ‚Ø§Ù");
        setChip(state.autosave ? "Ø§Ù„Ø­ÙØ¸ Ø´ØºØ§Ù„ ğŸ’¾" : "Ø§Ù„Ø­ÙØ¸ Ù…ØªÙˆÙ‚Ù");
        if(state.autosave) save();
      });

      // init UI
      saveBtn.textContent = "Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ: " + (state.autosave ? "ØªØ´ØºÙŠÙ„" : "Ø¥ÙŠÙ‚Ø§Ù");

      // reflect goal
      if(state.goal){
        const presetOptions = Array.from(preset.options).map(o => o.value);
        if(presetOptions.includes(String(state.goal))){
          preset.value = String(state.goal);
        }else{
          customGoal.value = String(state.goal);
        }
      }

      // reflect dhikr
      if(state.dhikr){
        const options = Array.from(dhikrSelect.options).map(o => o.value);
        if(options.includes(state.dhikr)){
          dhikrSelect.value = state.dhikr;
        }
      }

      render();
    })();
  </script>
</body>
</html>